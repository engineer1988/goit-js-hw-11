{"version":3,"file":"commonHelpers2.js","sources":["../src/js/lightbox.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'css-loader';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nloader.classList.add('hide');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  loader.classList.remove('hide');\n  fetchUsers(e)\n    .then(images => renderUsers(images))\n    .catch(error => console.log(error));\n  form.reset();\n});\n\nfunction fetchUsers(e) {\n  const search = e.target.elements.search.value;\n  loader.classList.add('loader');\n  const URL = `https://pixabay.com/api/?key=42241202-737945e445eb9c5ec6bcca7e8&q=${search}&image_type=photo&orientation=horizontal&safesearch=true`;\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction renderUsers(images) {\n  if (images.hits.length === 0) {\n    iziToast.error({\n      maxWidth: '432px',\n      messageColor: 'rgb(250, 250, 251)',\n      messageSize: '16px',\n      backgroundColor: 'rgb(239, 64, 64)',\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  }\n  const markup = images.hits\n    .map(image => {\n      return `\n      <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n      </a>\n      <div class=\"image-text\">\n       <div class=\"image-text-item\"> \n        <h2>Likes</h2>\n        <span class=\"span-size\">${image.likes}</span>\n       </div> \n       <div class=\"image-text-item\"> \n        <h2>Views</h2>\n        <span class=\"span-size\">${image.views}</span>\n       </div> \n       <div class=\"image-text-item\"> \n        <h2>Comments</h2>\n        <span class=\"span-size\">${image.comments}</span>\n       </div> \n       <div class=\"image-text-item\"> \n        <h2>Downloads</h2>\n        <span class=\"span-size\">${image.downloads}</span>\n       </div> \n      </div>\n    </li>`;\n    })\n    .join('');\n  gallery.innerHTML = '';\n  gallery.innerHTML = markup;\n\n  const options = {\n    captionSelector: 'img',\n    captionsData: 'alt',\n    captionDelay: 250,\n  };\n\n  const lightbox = new SimpleLightbox('.gallery a', options);\n  lightbox.refresh();\n  loader.classList.add('hide');\n}\n"],"names":["form","gallery","loader","fetchUsers","images","renderUsers","error","search","URL","response","iziToast","markup","image","options","SimpleLightbox"],"mappings":"+IAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,UAAU,IAAI,MAAM,EAE3BF,EAAK,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EAChBE,EAAO,UAAU,OAAO,MAAM,EAC9BC,EAAW,CAAC,EACT,KAAKC,GAAUC,EAAYD,CAAM,CAAC,EAClC,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpCN,EAAK,MAAK,CACZ,CAAC,EAED,SAASG,EAAW,EAAG,CACrB,MAAMI,EAAS,EAAE,OAAO,SAAS,OAAO,MACxCL,EAAO,UAAU,IAAI,QAAQ,EAC7B,MAAMM,EAAM,qEAAqED,4DACjF,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASJ,EAAYD,EAAQ,CACvBA,EAAO,KAAK,SAAW,GACzBM,EAAS,MAAM,CACb,SAAU,QACV,aAAc,qBACd,YAAa,OACb,gBAAiB,mBACjB,SAAU,WACV,QACE,0EACR,CAAK,EAEH,MAAMC,EAASP,EAAO,KACnB,IAAIQ,GACI;AAAA;AAAA,sCAEyBA,EAAM;AAAA,0CACFA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA,kCAK1CA,EAAM;AAAA;AAAA;AAAA;AAAA,kCAINA,EAAM;AAAA;AAAA;AAAA;AAAA,kCAINA,EAAM;AAAA;AAAA;AAAA;AAAA,kCAINA,EAAM;AAAA;AAAA;AAAA,UAInC,EACA,KAAK,EAAE,EACVX,EAAQ,UAAY,GACpBA,EAAQ,UAAYU,EAEpB,MAAME,EAAU,CACd,gBAAiB,MACjB,aAAc,MACd,aAAc,GAClB,EAEmB,IAAIC,EAAe,aAAcD,CAAO,EAChD,QAAO,EAChBX,EAAO,UAAU,IAAI,MAAM,CAC7B"}