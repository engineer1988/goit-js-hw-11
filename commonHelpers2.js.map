{"version":3,"file":"commonHelpers2.js","sources":["../src/js/lightbox.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'css-loader';\n\nconst form = document.querySelector('.form');\nconst button = document.querySelector('.button');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nloader.classList.add('hide');\n\nbutton.addEventListener('click', () => {\n  loader.classList.remove('hide');\n  fetchUsers()\n    .then(images => renderUsers(images))\n    .catch(error => console.log(error));\n  form.reset();\n});\n\nfunction fetchUsers() {\n  const search = form.search.value;\n  loader.classList.add('loader');\n  const URL = `https://pixabay.com/api/?key=42241202-737945e445eb9c5ec6bcca7e8&q=${search}&image_type=photo&orientation=horizontal&safesearch=true`;\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction renderUsers(images) {\n  if (images.hits.length === 0) {\n    iziToast.error({\n      backgroundColor: 'rgb(239, 64, 64)',\n      titleSize: '16px',\n      titleColor: 'rgb(250, 250, 251)',\n      messageColor: 'rgb(250, 250, 251)',\n      title: 'Error',\n      position: 'topRight',\n      message: 'Sorry, there are no images matching your search query.',\n    });\n  }\n\n  const markup = images.hits\n    .map(image => {\n      return `\n      <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=${image.largeImageURL}>\n        <img class=\"gallery-image\" src=${image.webformatURL} alt=${image.tags} />\n      </a>\n    </li>\n      `;\n    })\n    .join('');\n  gallery.innerHTML = '';\n  gallery.innerHTML = markup;\n  const options = {\n    captionsData: 'alt',\n    captionDelay: 250,\n  };\n\n  const lightbox = new SimpleLightbox('.gallery a', options);\n  lightbox.refresh();\n  loader.classList.add('hide');\n}\n"],"names":["form","button","gallery","loader","fetchUsers","images","renderUsers","error","search","URL","response","iziToast","markup","image","options","SimpleLightbox"],"mappings":"+IAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,UAAU,IAAI,MAAM,EAE3BF,EAAO,iBAAiB,QAAS,IAAM,CACrCE,EAAO,UAAU,OAAO,MAAM,EAC9BC,EAAY,EACT,KAAKC,GAAUC,EAAYD,CAAM,CAAC,EAClC,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpCP,EAAK,MAAK,CACZ,CAAC,EAED,SAASI,GAAa,CACpB,MAAMI,EAASR,EAAK,OAAO,MAC3BG,EAAO,UAAU,IAAI,QAAQ,EAC7B,MAAMM,EAAM,qEAAqED,4DACjF,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASJ,EAAYD,EAAQ,CACvBA,EAAO,KAAK,SAAW,GACzBM,EAAS,MAAM,CACb,gBAAiB,mBACjB,UAAW,OACX,WAAY,qBACZ,aAAc,qBACd,MAAO,QACP,SAAU,WACV,QAAS,wDACf,CAAK,EAGH,MAAMC,EAASP,EAAO,KACnB,IAAIQ,GACI;AAAA;AAAA,qCAEwBA,EAAM;AAAA,yCACFA,EAAM,oBAAoBA,EAAM;AAAA;AAAA;AAAA,OAIpE,EACA,KAAK,EAAE,EACVX,EAAQ,UAAY,GACpBA,EAAQ,UAAYU,EACpB,MAAME,EAAU,CACd,aAAc,MACd,aAAc,GAClB,EAEmB,IAAIC,EAAe,aAAcD,CAAO,EAChD,QAAO,EAChBX,EAAO,UAAU,IAAI,MAAM,CAC7B"}